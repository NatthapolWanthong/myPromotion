<div class="card-search">
  <form class="searchBar form-inline my-2 my-lg-0">
    <div class="d-flex align-items-center w-100">
      <!-- ‡∏õ‡∏∏‡πà‡∏° Filter -->
      <button class="btn btn-filter btn-outline-secondary d-flex align-items-center justify-content-center" type="button">
        <i class="bi bi-funnel-fill me-1"></i> Filter
      </button>

      <!-- ‡∏õ‡∏∏‡πà‡∏° Sort -->
      <div class="dropstart position-relative">
        <button class="btn btn-sort btn-outline-secondary" type="button" id="sortButton">
          ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°
        </button>
        <ul class="dropdown-menu p-2" id="mainSortMenu" style="min-width: 250px;">
          <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å field -->
          <label class="dropdown-header">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°</label>
          <li>
            <a class="dropdown-item sort-option" href="#" data-field="name">
              <span class="dot me-2"></span>‡∏ä‡∏∑‡πà‡∏≠
            </a>
          </li>
          <li>
            <a class="dropdown-item sort-option" href="#" data-field="status">
              <span class="dot me-2"></span>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
            </a>
          </li>
          <li>
            <a class="dropdown-item sort-option" href="#" data-field="status">
              <span class="dot me-2"></span>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
            </a>
          </li>
          <li>
            <a class="dropdown-item sort-option" href="#" data-field="status">
              <span class="dot me-2"></span>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
            </a>
          </li>
          <!-- Toggle: ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà -->
          <li class="dropend position-relative" data-dropdown>
            <a class="dropdown-item" href="#" data-toggle>
              <span class="dot me-2"></span>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà <i class="bi bi-chevron-right small"></i>
            </a>
            <ul class="dropdown-menu p-2" data-submenu>
              <li><a class="dropdown-item sort-option" href="#" data-field="editDate"><span class="dot me-2"></span>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</a></li>
              <li><a class="dropdown-item sort-option" href="#" data-field="createDate"><span class="dot me-2"></span>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á</a></li>
              <li><a class="dropdown-item sort-option" href="#" data-field="beginDate"><span class="dot me-2"></span>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°</a></li>
              <li><a class="dropdown-item sort-option" href="#" data-field="endDate"><span class="dot me-2"></span>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</a></li>
            </ul>
          </li>
          <!-- Toggle: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° -->
          <li class="dropend position-relative" data-dropdown>
            <a class="dropdown-item" href="#" data-toggle>
              <span class="dot me-2"></span>‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° <i class="bi bi-chevron-right small"></i>
            </a>
            <ul class="dropdown-menu p-2" data-submenu>
              <li><a class="dropdown-item sort-option" href="#" data-field="promotion"><span class="dot me-2"></span>‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</a></li>
              <li><a class="dropdown-item sort-option" href="#" data-field="createBy"><span class="dot me-2"></span>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢</a></li>
            </ul>
          </li>
          

          <!-- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡πà‡∏≠‡∏¢ -->
          <!-- <li class="dropend position-relative mt-2" id="statusDropdown">
            <a class="dropdown-item" href="#" id="statusToggle">
              ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡πà‡∏≠‡∏¢ <i class="bi bi-chevron-right small"></i>
            </a>
            <ul class="dropdown-menu p-2" id="statusSubmenu">
              <li><label class="form-check-label"><input class="form-check-input me-1 status-checkbox" type="checkbox" value="active">‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</label></li>
              <li><label class="form-check-label"><input class="form-check-input me-1 status-checkbox" type="checkbox" value="pending">‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</label></li>
              <li><label class="form-check-label"><input class="form-check-input me-1 status-checkbox" type="checkbox" value="inactive">‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</label></li>
              <li><label class="form-check-label"><input class="form-check-input me-1 status-checkbox" type="checkbox" value="expired">‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏</label></li>
            </ul>
          </li> -->

          <!-- ‡∏•‡∏≥‡∏î‡∏±‡∏ö -->
          <li><hr class="dropdown-divider"></li>
          <label class="dropdown-header">‡∏•‡∏≥‡∏î‡∏±‡∏ö</label>
          <li>
            <a class="dropdown-item order-option" href="#" data-order="asc">
              <span class="dot me-2"></span>‡∏à‡∏≤‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÑ‡∏õ‡∏°‡∏≤‡∏Å
            </a>
          </li>
          <li>
            <a class="dropdown-item order-option" href="#" data-order="desc">
              <span class="dot me-2"></span>‡∏à‡∏≤‡∏Å‡∏°‡∏≤‡∏Å‡πÑ‡∏õ‡∏ô‡πâ‡∏≠‡∏¢
            </a>
          </li>
        </ul>
      </div>

      <!-- Search -->
      <div class="input-group ms-2">
        <input 
          type="search" 
          class="form-control searchBar" 
          placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤..." 
          aria-label="Search" 
          aria-describedby="button-search"
        >
        <button 
          class="btn btn-outline-secondary" 
          type="button" 
          id="button-search"
          style="width: 40px;"
        >
          <i class="bi bi-search"></i>
        </button>
      </div>
    </div>
  </form>
</div>



<script>
  document.addEventListener("DOMContentLoaded", () => {
  const sortButton = document.getElementById("sortButton");
  const mainDropdownMenu = document.getElementById("mainSortMenu");

  let hoverTimer;

  // ‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏Å
  sortButton.addEventListener("click", (e) => {
    e.stopPropagation();
    mainDropdownMenu.classList.toggle("show");
  });

  // --- üî• MULTI DROPDOWN TOGGLE SUPPORT ---
  const dropdownGroups = document.querySelectorAll("[data-dropdown]");

  dropdownGroups.forEach((group) => {
    const toggle = group.querySelector("[data-toggle]");
    const submenu = group.querySelector("[data-submenu]");

    // Toggle click
    toggle.addEventListener("click", (e) => {
      e.preventDefault();
      submenu.classList.toggle("show");
    });

    // Hover 0.4s ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÇ‡∏ä‡∏ß‡πå
    group.addEventListener("mouseenter", () => {
      hoverTimer = setTimeout(() => {
        submenu.classList.add("show");
      }, 400);
    });

    group.addEventListener("mouseleave", () => {
      clearTimeout(hoverTimer);
    });
  });

  // --- ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ---
  document.addEventListener("click", (e) => {
    const isInsideSort = sortButton.contains(e.target) || mainDropdownMenu.contains(e.target);
    if (!isInsideSort) mainDropdownMenu.classList.remove("show");

    // ‡∏õ‡∏¥‡∏î‡∏ó‡∏∏‡∏Å submenu
    dropdownGroups.forEach((group) => {
      const submenu = group.querySelector("[data-submenu]");
      if (!group.contains(e.target)) submenu.classList.remove("show");
    });
  });

  // --- SORT SELECT ‡πÅ‡∏ö‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏≠‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ---
  const sortOptions = document.querySelectorAll(".sort-option");
  sortOptions.forEach((opt) => {
    opt.addEventListener("click", (e) => {
      e.preventDefault();
      sortOptions.forEach(o => o.classList.remove("active-dot"));
      opt.classList.add("active-dot");
      console.log("üîÄ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°:", opt.dataset.field);
    });
  });

  // --- ORDER SELECT ---
  const orderOptions = document.querySelectorAll(".order-option");
  orderOptions.forEach((opt) => {
    opt.addEventListener("click", (e) => {
      e.preventDefault();
      orderOptions.forEach(o => o.classList.remove("active-dot"));
      opt.classList.add("active-dot");
      console.log("üì∂ ‡∏•‡∏≥‡∏î‡∏±‡∏ö:", opt.dataset.order);
    });
  });
});

</script>

